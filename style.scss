// =============================
//  SCSS â€“ Mahdy's Blossom Scene ðŸŒ¸
// =============================

// === COLORS ===
$bg: #fef6f9;
$sky-top: #fbe9f1;
$sky-bottom: #f8d7e5;
$cloud: rgba(255, 255, 255, 0.95);
$sun: #fff6cc;
$petal: #f9c4d2;
$edge: #f3a6b8;
$core: #f48ca3;
$tree-bark: #8b5e3c;
$tree-leaf: #74c69d;
$character: #222;
$flower: #f56fa2;
$stem: #4caf50;
$sparkle: #fff3f8;

// === RESET ===
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}
body {
  background: $bg;
  font-family: 'Courier New', monospace;
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  overflow: hidden;
}

// === SCENE BASE ===
.scene {
  position: absolute;
  width: 100vw;
  height: 100vh;
  background: $bg;
  z-index: 1;
}

// === SKY + SUN + CLOUDS ===
.sky {
  position: absolute;
  width: 100%;
  height: 100%;
  background: linear-gradient(
    to bottom,
    #cce7ff 0%,        // very light sky blue top
    #b2ddf7 20%,       // cooler sky
    #d5def6 35%,       // transition blue-violet
    #f2d8e8 50%,       // pastel haze zone
    #fbe9f1 65%,       // warm soft pink
    #f6d4e1 80%,       // melting into ground tone
    #f1d0d9 100%       // fixed ground match
  );
  z-index: -3;

  .sun {
    position: absolute;
    top: 5%;
    right: 10%;
    width: 60px;
    height: 60px;
    background: $sun;
    border-radius: 50%;
    box-shadow:
      0 0 40px rgba(255, 250, 200, 0.6),
      0 0 80px rgba(255, 250, 200, 0.3);
    z-index: 3;
  }

  .cloud {
    position: absolute;
    z-index: 2;

    .blob {
      position: absolute;
      background: #ffffff;
      border-radius: 50%;
      filter: blur(10px);
      opacity: 0.85;
      mix-blend-mode: screen;
    }

    &.cloud-1 {
      top: 10%;
      left: 5%;
      .blob:nth-child(1) { width: 60px; height: 40px; top: 0; left: 0; }
      .blob:nth-child(2) { width: 80px; height: 50px; top: -10px; left: 30px; }
      .blob:nth-child(3) { width: 50px; height: 30px; top: 5px; left: 70px; }
      animation: drift-cloud 60s linear infinite;
    }

    &.cloud-2 {
      top: 18%;
      left: 40%;
      .blob:nth-child(1) { width: 70px; height: 50px; top: 0; left: 0; }
      .blob:nth-child(2) { width: 90px; height: 60px; top: -8px; left: 35px; }
      .blob:nth-child(3) { width: 60px; height: 40px; top: 10px; left: 80px; }
      animation: drift-cloud 80s linear infinite reverse;
    }

    &.cloud-3 {
      top: 14%;
      left: 75%;
      .blob:nth-child(1) { width: 50px; height: 30px; top: 0; left: 0; }
      .blob:nth-child(2) { width: 70px; height: 45px; top: -10px; left: 25px; }
      .blob:nth-child(3) { width: 40px; height: 30px; top: 5px; left: 60px; }
      animation: drift-cloud 70s ease-in-out infinite alternate;
    }
  }
}


@keyframes drift-cloud {
  0%   { transform: translateX(0); }
  100% { transform: translateX(-60px); }
}
// === GROUND ===
.ground {
  position: absolute;
  bottom: 0;
  width: 100%;
  height: 14%;
  background: #f1d0d9;
  border-top: 1px solid $edge;
  box-shadow: inset 0 12px 24px rgba(0,0,0,0.05);
  z-index: 0;

  &::after {
    content: '';
    position: absolute;
    top: -4px;
    left: 0;
    width: 100%;
    height: 12px;
    background: repeating-radial-gradient(circle at bottom, $petal 0 2px, transparent 3px 6px);
    opacity: 0.4;
    pointer-events: none;
    z-index: 1;
  }
}

// === TREES ===
.pixel-tree {
  position: absolute;
  bottom: 12%;
  width: 12px;
  height: 40px;
  background: $tree-bark;
  z-index: 1;

  box-shadow:
    0 -10px 0 $tree-leaf,      // center crown
    -10px -10px 0 $tree-leaf,  // left crown
    10px -10px 0 $tree-leaf,   // right crown
    -20px -20px 0 $tree-leaf,  // outer left
    20px -20px 0 $tree-leaf,   // outer right
    0 -20px 0 $tree-leaf,      // top center
    -10px -20px 0 $tree-leaf,  // top left
    10px -20px 0 $tree-leaf;   // top right

  &.tree-left { left: 10%; }
  &.tree-right { right: 10%; }

  &.tree-back-left {
    left: 22%;
    transform: scale(0.7);
    opacity: 0.6;
    z-index: 0;
  }

  &.tree-back-right {
    right: 22%;
    transform: scale(0.7);
    opacity: 0.6;
    z-index: 0;
  }
}
// === PETAL SHOWER ===
.falling-petals {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;

  .petal-fall {
    position: absolute;
    width: 10px; height: 14px;
    background: $petal;
    border-radius: 50% 50% 50% 0;
    opacity: 0.8;
    animation: fall linear infinite;
  }

  @for $i from 1 through 6 {
    .p#{$i} {
      left: #{15% * $i};
      animation-duration: #{4 + $i}s;
      animation-delay: #{($i - 1)}s;
    }
  }
}

@keyframes fall {
  0% { transform: translateY(-20px) rotate(0deg); opacity: 0; }
  10% { opacity: 1; }
  100% { transform: translateY(300px) rotate(360deg); opacity: 0; }
}
// === FLOWERS ===
.flowers {
  position: absolute;
  width: 100%;
  height: 100%;
  bottom: 0;

  .flower {
    position: absolute;
    bottom: 10%;
    width: 6px;
    height: 6px;
    border-radius: 50%;
    animation: sway 3s ease-in-out infinite alternate;

    &::before {
      content: "";
      position: absolute;
      bottom: -6px;
      left: 2px;
      width: 2px;
      height: 6px;
      background: $stem;
    }

    // === SIZE VARIANTS ===
    &.tiny {
      transform: scale(0.6);
      opacity: 0.7;
    }

    &.big {
      transform: scale(1.4);
    }

    &.regular {
      transform: scale(1);
    }

    // === COLOR VARIANTS ===
    &.pink {
      background: $flower;
      box-shadow:
        -4px -4px 0 $flower,
        4px -4px 0 $flower,
        -4px 4px 0 $flower,
        4px 4px 0 $flower;
    }

    &.lavender {
      background: #d9a8ff;
      box-shadow:
        -4px -4px 0 #d9a8ff,
        4px -4px 0 #d9a8ff,
        -4px 4px 0 #d9a8ff,
        4px 4px 0 #d9a8ff;
    }

    &.yellow {
      background: #fcd16b;
      box-shadow:
        -4px -4px 0 #fcd16b,
        4px -4px 0 #fcd16b,
        -4px 4px 0 #fcd16b,
        4px 4px 0 #fcd16b;
    }

    // === POSITIONING ===
    &.f1  { left: 4%;  bottom: 10%; }
    &.f2  { left: 9%;  bottom: 9.5%; }
    &.f3  { left: 13%; bottom: 10.5%; }
    &.f4  { left: 18%; bottom: 9%; }
    &.f5  { left: 24%; bottom: 10%; }
    &.f6  { left: 29%; bottom: 9.5%; }
    &.f7  { left: 34%; bottom: 10.8%; }
    &.f8  { left: 39%; bottom: 9.3%; }
    &.f9  { left: 44%; bottom: 10.4%; }
    &.f10 { left: 49%; bottom: 9.2%; }
    &.f11 { left: 54%; bottom: 10.2%; }
    &.f12 { left: 58%; bottom: 9%; }
    &.f13 { left: 62%; bottom: 10.6%; }
    &.f14 { left: 66%; bottom: 9.2%; }
    &.f15 { left: 70%; bottom: 10.1%; }
    &.f16 { left: 75%; bottom: 9%; }
    &.f17 { left: 79%; bottom: 10.7%; }
    &.f18 { left: 83%; bottom: 9.4%; }
    &.f19 { left: 87%; bottom: 10.2%; }
    &.f20 { left: 91%; bottom: 9.1%; }
    &.f21 { left: 95%; bottom: 10.6%; }
    &.f22 { left: 97%; bottom: 9%; }
    &.f23 { left: 2%;  bottom: 10.3%; }
    &.f24 { left: 6%;  bottom: 9.6%; }
  }
}

// === Swaying Motion ===
@keyframes sway {
  0%   { transform: translateX(0) scale(1); }
  50%  { transform: translateX(1px) scale(1.01); }
  100% { transform: translateX(-1px) scale(0.99); }
}


// === CHARACTERS ===
.pixel-character {
  position: absolute;
  bottom: 12%;
  width: 12px;
  height: 12px;
  background: $character;
  box-shadow:
    0 -12px 0 $character,
    -4px -12px 0 $core,
    4px -12px 0 $core,
    0 -20px 0 #5c4b51;

  &.character-left { left: 48%; }
  &.character-right { left: 52%; }
}
// === BIRDS ===
.birds {
  .bird {
    position: absolute;
    width: 0;
    height: 0;
    opacity: 0.9;
    animation: bird-bob 1.6s ease-in-out infinite, flight-path 20s linear infinite;

    &::before,
    &::after {
      content: '';
      position: absolute;
      width: 18px;
      height: 2px;
      background: #222;
      border-radius: 100% 100% 0 0;
      top: -2px;
      transform: scaleX(1.2);
    }

    &::before {
      left: -18px;
      transform-origin: right bottom;
      animation: wing-left 1.6s ease-in-out infinite;
    }

    &::after {
      right: -18px;
      transform-origin: left bottom;
      animation: wing-right 1.6s ease-in-out infinite;
    }
  }

  // === SOLO BIRDS ===
  .b1  { top: 10%; left: -12%; animation-name: bird-bob, fly-curve1; animation-delay: 0s; }
  .b2  { top: 14%; left: -12%; animation-name: bird-bob, fly-curve2; animation-delay: 1.5s; }
  .b3  { top: 8%;  left: -12%; animation-name: bird-bob, fly-zigzag; animation-delay: 3s; }

  // === GROUP FORMATION (V-Shape) ===
  .b4  { top: 18%; left: -12%; animation-name: bird-bob, fly-v-formation; animation-delay: 4s; }
  .b5  { top: 17%; left: -14%; animation-name: bird-bob, fly-v-formation; animation-delay: 4.1s; }
  .b6  { top: 19%; left: -14%; animation-name: bird-bob, fly-v-formation; animation-delay: 4.2s; }
  .b7  { top: 18%; left: -16%; animation-name: bird-bob, fly-v-formation; animation-delay: 4.3s; }

  // === EXTRA SOLO BIRDS ===
  .b8  { top: 11%; left: -12%; animation-name: bird-bob, fly-zigzag; animation-delay: 5s; }
  .b9  { top: 13%; left: -12%; animation-name: bird-bob, fly-curve2; animation-delay: 6s; }
  .b10 { top: 9%;  left: -12%; animation-name: bird-bob, fly-curve1; animation-delay: 7s; }
}

// === WING FLAP ===
@keyframes wing-left {
  0%   { transform: rotate(-10deg); }
  40%  { transform: rotate(-35deg); }
  60%  { transform: rotate(-35deg); }
  100% { transform: rotate(-10deg); }
}
@keyframes wing-right {
  0%   { transform: rotate(10deg); }
  40%  { transform: rotate(35deg); }
  60%  { transform: rotate(35deg); }
  100% { transform: rotate(10deg); }
}

// === SMOOTH BODY BOB SYNCED WITH WINGS ===
@keyframes bird-bob {
  0%   { transform: translateY(0); }
  25%  { transform: translateY(-2px); }
  50%  { transform: translateY(-3px); }
  75%  { transform: translateY(-2px); }
  100% { transform: translateY(0); }
}

// === IMPROVED FLIGHT PATHS ===
@keyframes fly-curve1 {
  0%   { transform: translateX(0vw) translateY(0); opacity: 1; }
  20%  { transform: translateX(20vw) translateY(-2vh); }
  40%  { transform: translateX(40vw) translateY(1vh); }
  60%  { transform: translateX(60vw) translateY(-3vh); }
  80%  { transform: translateX(80vw) translateY(0.5vh); opacity: 0.6; }
  100% { transform: translateX(110vw) translateY(0); opacity: 0; }
}

@keyframes fly-curve2 {
  0%   { transform: translateX(0vw) translateY(0); }
  15%  { transform: translateX(15vw) translateY(3vh); }
  35%  { transform: translateX(35vw) translateY(-2vh); }
  55%  { transform: translateX(55vw) translateY(1.5vh); }
  75%  { transform: translateX(75vw) translateY(-1.5vh); opacity: 0.6; }
  100% { transform: translateX(110vw) translateY(0); opacity: 0; }
}

@keyframes fly-zigzag {
  0%   { transform: translateX(0vw) translateY(0vh); }
  10%  { transform: translateX(10vw) translateY(-2vh); }
  20%  { transform: translateX(20vw) translateY(2vh); }
  30%  { transform: translateX(30vw) translateY(-1vh); }
  40%  { transform: translateX(40vw) translateY(1vh); }
  50%  { transform: translateX(50vw) translateY(-1vh); }
  60%  { transform: translateX(60vw) translateY(1.5vh); }
  70%  { transform: translateX(70vw) translateY(-2vh); }
  80%  { transform: translateX(80vw) translateY(1vh); opacity: 0.5; }
  100% { transform: translateX(110vw) translateY(0vh); opacity: 0; }
}

@keyframes fly-v-formation {
  0%   { transform: translateX(0vw) translateY(0); }
  20%  { transform: translateX(20vw) translateY(-1vh); }
  40%  { transform: translateX(40vw) translateY(0.5vh); }
  60%  { transform: translateX(60vw) translateY(-0.5vh); }
  80%  { transform: translateX(80vw) translateY(0.5vh); opacity: 0.6; }
  100% { transform: translateX(110vw) translateY(0); opacity: 0; }
}

// === SPARKLES ===
.sparkles {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 100%;
  pointer-events: none;

  .sparkle {
    position: absolute;
    width: 4px; height: 4px;
    background: $sparkle;
    border-radius: 50%;
    opacity: 0.6;
    animation: glow 2s ease-in-out infinite;
  }

  $top-pos: 10, 20, 30, 40, 50, 60, 70, 80, 25, 35;
  $left-pos: 15, 25, 35, 45, 55, 65, 75, 85, 20, 30;

  @for $i from 1 through 10 {
    .s#{$i} {
      top: nth($top-pos, $i) * 1%;
      left: nth($left-pos, $i) * 1%;
      animation-delay: ($i % 4) * 1s;
    }
  }
}

@keyframes glow {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.4); }
}

// === FOOTER TEXT ===
.footer-text {
  position: absolute;
  bottom: 8px;
  width: 100%;
  text-align: center;
  font-size: 0.9rem;
  color: #999;
  font-style: italic;
}

